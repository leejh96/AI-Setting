# Command: PR Description

## 사용 시점

Pull Request 생성 시 설명 작성.

## 프롬프트 템플릿

```
다음 정보를 바탕으로 PR 설명을 작성해줘.

## 관련 이슈
{이슈 번호 또는 설명}

## 변경 사항
{주요 변경 내용}

## 변경 파일
{파일 목록}

## 규칙
- 마크다운 형식
- 간결하고 명확하게
- 체크리스트 포함
```

---

## PR 설명 템플릿

```markdown
## 📋 개요

[이 PR이 해결하는 문제 또는 추가하는 기능 1-2문장 설명]

## 🔗 관련 이슈

- Closes #123
- Related to #456

## 📝 변경 유형

- [ ] 🆕 새 기능 (feat)
- [ ] 🐛 버그 수정 (fix)
- [ ] 🔨 리팩토링 (refactor)
- [ ] 📚 문서 (docs)
- [ ] ✅ 테스트 (test)
- [ ] 🔧 설정/기타 (chore)

## 🔄 변경 내용

### 주요 변경사항
- 변경 1
- 변경 2
- 변경 3

### 영향 범위
- 영향받는 API: `POST /api/v1/users`, `GET /api/v1/users/:id`
- 영향받는 모듈: UserModule, AuthModule

## 🧪 테스트

- [ ] Unit 테스트 추가/수정
- [ ] E2E 테스트 추가/수정 (해당시)
- [ ] 로컬 테스트 완료
- [ ] 전체 테스트 통과

### 테스트 방법
```bash
# 특정 테스트 실행
npm run test -- user.service.spec.ts

# 전체 테스트
npm run test
```

## 📸 스크린샷 (UI 변경시)

| Before | After |
|--------|-------|
| 이미지 | 이미지 |

## 📌 리뷰어 참고사항

[리뷰어가 특별히 봐줬으면 하는 부분이나 논의가 필요한 부분]

## ✅ 체크리스트

- [ ] 코드 컨벤션 준수
- [ ] 타입 체크 통과 (`npx tsc --noEmit`)
- [ ] 린트 통과 (`npm run lint`)
- [ ] 테스트 통과
- [ ] 문서 업데이트 (필요시)
- [ ] DB 마이그레이션 확인 (필요시)
```

---

## 상황별 템플릿

### 기능 추가

```markdown
## 📋 개요

사용자 프로필 이미지 업로드 기능을 추가합니다.

## 🔗 관련 이슈

- Closes #123

## 📝 변경 유형

- [x] 🆕 새 기능 (feat)

## 🔄 변경 내용

### 새로운 API
| Method | Path | 설명 |
|--------|------|------|
| POST | /users/:id/profile-image | 프로필 이미지 업로드 |
| DELETE | /users/:id/profile-image | 프로필 이미지 삭제 |

### 구현 내용
- S3 Presigned URL 방식으로 이미지 업로드
- 이미지 리사이징 (256x256 썸네일 자동 생성)
- 지원 포맷: jpg, png, webp (최대 5MB)

### 새로운 의존성
- `@aws-sdk/client-s3`: S3 연동
- `sharp`: 이미지 리사이징
```

### 버그 수정

```markdown
## 📋 개요

로그인 시 특수문자가 포함된 비밀번호 처리 오류를 수정합니다.

## 🔗 관련 이슈

- Fixes #456

## 📝 변경 유형

- [x] 🐛 버그 수정 (fix)

## 🐞 버그 상세

### 재현 방법
1. 비밀번호에 `@#$%` 등 특수문자 포함하여 가입
2. 로그인 시도
3. "비밀번호가 일치하지 않습니다" 에러 발생

### 원인
비밀번호 해싱 전 URL 인코딩 처리 누락

### 해결
- 비밀번호 비교 로직에서 인코딩 처리 추가
- 관련 테스트 케이스 추가

## 🧪 테스트

- [x] 버그 재현 → 해결 확인
- [x] 특수문자 포함 비밀번호 테스트 추가
- [x] 기존 기능 regression 테스트
```

### 리팩토링

```markdown
## 📋 개요

UserService의 긴 메서드를 작은 단위로 분리합니다.

## 📝 변경 유형

- [x] 🔨 리팩토링 (refactor)

## 🔄 변경 내용

### 기능 변경
**없음** - 구조 개선만

### 구조 변경
- `createUser()` → `validateUserData()`, `hashPassword()`, `saveUser()` 분리
- 중복된 이메일 검증 로직 `ensureEmailNotExists()`로 통합
- 매직 넘버 상수화 (비밀번호 최소 길이 등)

### 코드 품질 개선
- 함수 평균 길이: 45줄 → 15줄
- 테스트 커버리지: 75% → 82%

## ✅ 체크리스트

- [x] 기존 테스트 모두 통과
- [x] 기능 변경 없음 확인
- [x] 타입 체크 통과
```

---

## 빠른 생성 (CLI)

```bash
# GitHub CLI로 PR 생성
gh pr create --title "feat(user): 프로필 이미지 업로드 기능 추가" \
  --body-file .github/PULL_REQUEST_TEMPLATE.md

# 또는 대화형으로
gh pr create
```
